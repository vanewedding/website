import{g as ce,c as j,r as O,G as le,u as me,j as u,H as fe,T as ge,I as B,S as de}from"./index-axYib_6g.js";import{a as pe}from"./gallery-DafiGIaU.js";import"./gallery1-DWBOlCvX.js";var S={exports:{}},he=S.exports,H;function ve(){return H||(H=1,(function(o,i){(function(s,a){o.exports=a()})(he,function(){function s(e,t){var r=void 0;return function(){r&&clearTimeout(r),r=setTimeout(e,t)}}function a(e,t){for(var r=e.length,n=r,m=[];r--;)m.push(t(e[n-r-1]));return m}function f(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(window.Promise)return Q(e,t,r);e.recalculate(!0,!0)}function v(e){for(var t=e.options,r=e.responsiveOptions,n=e.keys,m=e.docWidth,c=void 0,l=0;l<n.length;l++){var g=parseInt(n[l],10);m>=g&&(c=t.breakAt[g],V(c,r))}return r}function N(e){for(var t=e.options,r=e.responsiveOptions,n=e.keys,m=e.docWidth,c=void 0,l=n.length-1;l>=0;l--){var g=parseInt(n[l],10);m<=g&&(c=t.breakAt[g],V(c,r))}return r}function y(e){var t=e.useContainerForBreakpoints?e.container.clientWidth:window.innerWidth,r={columns:e.columns};w(e.margin)?r.margin={x:e.margin.x,y:e.margin.y}:r.margin={x:e.margin,y:e.margin};var n=Object.keys(e.breakAt);return e.mobileFirst?v({options:e,responsiveOptions:r,keys:n,docWidth:t}):N({options:e,responsiveOptions:r,keys:n,docWidth:t})}function d(e){return y(e).columns}function x(e){return y(e).margin}function A(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=d(e),n=x(e).x,m=100/r;if(!t)return m;if(r===1)return"100%";var c="px";if(typeof n=="string"){var l=parseFloat(n);c=n.replace(l,""),n=l}return n=(r-1)*n/r,c==="%"?m-n+"%":"calc("+m+"% - "+n+c+")"}function M(e,t){var r=d(e.options),n=0,m=void 0,c=void 0;if(++t===1)return 0;c=x(e.options).x;var l="px";if(typeof c=="string"){var g=parseFloat(c,10);l=c.replace(g,""),c=g}return m=(c-(r-1)*c/r)*(t-1),n+=A(e.options,!1)*(t-1),l==="%"?n+m+"%":"calc("+n+"% + "+m+l+")"}function I(e){var t=0,r=e.container,n=e.rows;b(n,function(m){t=m>t?m:t}),r.style.height=t+"px"}function p(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],m=d(e.options),c=x(e.options).y;R(e,m,r),b(t,function(l){var g=0,C=parseInt(l.offsetHeight,10);isNaN(C)||(e.rows.forEach(function(ae,ue){ae<e.rows[g]&&(g=ue)}),l.style.position="absolute",l.style.top=e.rows[g]+"px",l.style.left=""+e.cols[g],e.rows[g]+=isNaN(C)?0:C+c,n&&(l.dataset.macyComplete=1))}),n&&(e.tmpRows=null),I(e)}function $(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],m=d(e.options),c=x(e.options).y;R(e,m,r),b(t,function(l){e.lastcol===m&&(e.lastcol=0);var g=ne(l,"height");g=parseInt(l.offsetHeight,10),isNaN(g)||(l.style.position="absolute",l.style.top=e.rows[e.lastcol]+"px",l.style.left=""+e.cols[e.lastcol],e.rows[e.lastcol]+=isNaN(g)?0:g+c,e.lastcol+=1,n&&(l.dataset.macyComplete=1))}),n&&(e.tmpRows=null),I(e)}var E=function e(t,r){if(!(this instanceof e))return new e(t,r);if(t&&t.nodeName)return t;if(t=t.replace(/^\s*/,"").replace(/\s*$/,""),r)return this.byCss(t,r);for(var n in this.selectors)if(r=n.split("/"),new RegExp(r[1],r[2]).test(t))return this.selectors[n](t);return this.byCss(t)};E.prototype.byCss=function(e,t){return(t||document).querySelectorAll(e)},E.prototype.selectors={},E.prototype.selectors[/^\.[\w\-]+$/]=function(e){return document.getElementsByClassName(e.substring(1))},E.prototype.selectors[/^\w+$/]=function(e){return document.getElementsByTagName(e)},E.prototype.selectors[/^\#[\w\-]+$/]=function(e){return document.getElementById(e.substring(1))};var b=function(e,t){for(var r=e.length,n=r;r--;)t(e[n-r-1])},L=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.running=!1,this.events=[],this.add(e)};L.prototype.run=function(){if(!this.running&&this.events.length>0){var e=this.events.shift();this.running=!0,e(),this.running=!1,this.run()}},L.prototype.add=function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!!t&&(Array.isArray(t)?b(t,function(r){return e.add(r)}):(this.events.push(t),void this.run()))},L.prototype.clear=function(){this.events=[]};var U=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.instance=e,this.data=t,this},P=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.events={},this.instance=e};P.prototype.on=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!(!e||!t)&&(Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t))},P.prototype.emit=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!Array.isArray(this.events[e]))return!1;var r=new U(this.instance,t);b(this.events[e],function(n){return n(r)})};var k=function(e){return!("naturalHeight"in e&&e.naturalHeight+e.naturalWidth===0)||e.width+e.height!==0},K=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(n,m){if(t.complete)return k(t)?n(t):m(t);t.addEventListener("load",function(){return k(t)?n(t):m(t)}),t.addEventListener("error",function(){return m(t)})}).then(function(n){r&&e.emit(e.constants.EVENT_IMAGE_LOAD,{img:n})}).catch(function(n){return e.emit(e.constants.EVENT_IMAGE_ERROR,{img:n})})},J=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a(t,function(n){return K(e,n,r)})},Q=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Promise.all(J(e,t,r)).then(function(){e.emit(e.constants.EVENT_IMAGE_COMPLETE)})},X=function(e){return s(function(){e.emit(e.constants.EVENT_RESIZE),e.queue.add(function(){return e.recalculate(!0,!0)})},100)},Y=function(e){if(e.container=E(e.options.container),e.container instanceof E||!e.container)return!!e.options.debug&&console.error("Error: Container not found");e.container.length&&(e.container=e.container[0]),e.options.container=e.container,e.container.style.position="relative"},ee=function(e){e.queue=new L,e.events=new P(e),e.rows=[],e.resizer=X(e)},te=function(e){var t=E("img",e.container);window.addEventListener("resize",e.resizer),e.on(e.constants.EVENT_IMAGE_LOAD,function(){return e.recalculate(!1,!1)}),e.on(e.constants.EVENT_IMAGE_COMPLETE,function(){return e.recalculate(!0,!0)}),e.options.useOwnImageLoader||f(e,t,!e.options.waitForImages),e.emit(e.constants.EVENT_INITIALIZED)},re=function(e){Y(e),ee(e),te(e)},w=function(e){return e===Object(e)&&Object.prototype.toString.call(e)!=="[object Array]"},V=function(e,t){w(e)||(t.columns=e),w(e)&&e.columns&&(t.columns=e.columns),w(e)&&e.margin&&!w(e.margin)&&(t.margin={x:e.margin,y:e.margin}),w(e)&&e.margin&&w(e.margin)&&e.margin.x&&(t.margin.x=e.margin.x),w(e)&&e.margin&&w(e.margin)&&e.margin.y&&(t.margin.y=e.margin.y)},ne=function(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},R=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e.lastcol||(e.lastcol=0),e.rows.length<1&&(r=!0),r){e.rows=[],e.cols=[],e.lastcol=0;for(var n=t-1;n>=0;n--)e.rows[n]=0,e.cols[n]=M(e,n)}else if(e.tmpRows){e.rows=[];for(var n=t-1;n>=0;n--)e.rows[n]=e.tmpRows[n]}else{e.tmpRows=[];for(var n=t-1;n>=0;n--)e.tmpRows[n]=e.rows[n]}},oe=function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=t?e.container.children:E(':scope > *:not([data-macy-complete="1"])',e.container);n=Array.from(n).filter(function(c){return c.offsetParent!==null});var m=A(e.options);return b(n,function(c){t&&(c.dataset.macyComplete=0),c.style.width=m}),e.options.trueOrder?($(e,n,t,r),e.emit(e.constants.EVENT_RECALCULATED)):(p(e,n,t,r),e.emit(e.constants.EVENT_RECALCULATED))},ie=function(){return!!window.Promise},se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Array.from||(Array.from=function(e){for(var t=0,r=[];t<e.length;)r.push(e[t++]);return r});var D={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};(function(){try{document.createElement("a").querySelector(":scope *")}catch{(function(){function t(c){return function(l){if(l&&r.test(l)){var g=this.getAttribute("id");g||(this.id="q"+Math.floor(9e6*Math.random())+1e6),arguments[0]=l.replace(r,"#"+this.id);var C=c.apply(this,arguments);return g===null?this.removeAttribute("id"):g||(this.id=g),C}return c.apply(this,arguments)}}var r=/:scope\b/gi,n=t(Element.prototype.querySelector);Element.prototype.querySelector=function(c){return n.apply(this,arguments)};var m=t(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(c){return m.apply(this,arguments)}})()}})();var h=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;if(!(this instanceof e))return new e(t);this.options={},se(this.options,D,t),this.options.cancelLegacy&&!ie()||re(this)};return h.init=function(e){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new h(e)},h.prototype.recalculateOnImageLoad=function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return f(this,E("img",this.container),!e)},h.prototype.runOnImageLoad=function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=E("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,e),t&&this.on(this.constants.EVENT_IMAGE_LOAD,e),f(this,r,t)},h.prototype.recalculate=function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return r&&this.queue.clear(),this.queue.add(function(){return oe(e,t,r)})},h.prototype.remove=function(){window.removeEventListener("resize",this.resizer),b(this.container.children,function(e){e.removeAttribute("data-macy-complete"),e.removeAttribute("style")}),this.container.removeAttribute("style")},h.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},h.prototype.on=function(e,t){this.events.on(e,t)},h.prototype.emit=function(e,t){this.events.emit(e,t)},h.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},h.prototype.constants=h.constants,h})})(S)),S.exports}var ye=ve();const Ee=ce(ye);var F={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},z=j.createContext&&j.createContext(F),xe=["attr","size","title"];function we(o,i){if(o==null)return{};var s=be(o,i),a,f;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(o);for(f=0;f<v.length;f++)a=v[f],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function be(o,i){if(o==null)return{};var s={};for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){if(i.indexOf(a)>=0)continue;s[a]=o[a]}return s}function T(){return T=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},T.apply(this,arguments)}function G(o,i){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);i&&(a=a.filter(function(f){return Object.getOwnPropertyDescriptor(o,f).enumerable})),s.push.apply(s,a)}return s}function _(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?G(Object(s),!0).forEach(function(a){Oe(o,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))})}return o}function Oe(o,i,s){return i=je(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function je(o){var i=Ne(o,"string");return typeof i=="symbol"?i:i+""}function Ne(o,i){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function W(o){return o&&o.map((i,s)=>j.createElement(i.tag,_({key:s},i.attr),W(i.child)))}function Z(o){return i=>j.createElement(Ae,T({attr:_({},o.attr)},i),W(o.child))}function Ae(o){var i=s=>{var{attr:a,size:f,title:v}=o,N=we(o,xe),y=f||s.size||"1em",d;return s.className&&(d=s.className),o.className&&(d=(d?d+" ":"")+o.className),j.createElement("svg",T({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,N,{className:d,style:_(_({color:o.color||s.color},s.style),o.style),height:y,width:y,xmlns:"http://www.w3.org/2000/svg"}),v&&j.createElement("title",null,v),o.children)};return z!==void 0?j.createElement(z.Consumer,null,s=>i(s)):i(F)}function Ie(o){return Z({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 16V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V16H22ZM21 3C21.5523 3 22 3.44772 22 4V14H2V4C2 3.44772 2.44772 3 3 3H21Z"},child:[]}]})(o)}function Ce(o){return Z({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 9.999V20C22 20.5523 21.5523 21 21 21H13V9.999H22ZM11 15.999V21H3C2.44772 21 2 20.5523 2 20V15.999H11ZM11 3V13.999H2V4C2 3.44772 2.44772 3 3 3H11ZM21 3C21.5523 3 22 3.44772 22 4V7.999H13V3H21Z"},child:[]}]})(o)}function Me(){document.body.classList.add("overflow-hidden")}function q(){document.body.classList.remove("overflow-hidden")}function Le(o){O.useEffect(()=>(o?Me():q(),()=>{q()}),[o])}function Pe(){const{it:o,isMobile:i,isTablet:s}=O.useContext(le),{slug:a}=me(),f=pe[a],v=O.useRef(null);console.log(f);const N=i||s?"layoutSlider":"layoutGrid",[y,d]=O.useState(N),[x,A]=O.useState(1),[M,I]=O.useState(!1);return console.log(x),Le(M),O.useEffect(()=>{if(!f||!v.current)return;const p=Ee({container:v.current,trueOrder:!1,waitForImages:!0,columns:4,margin:0,padding:0,breakAt:{1024:4,768:3,480:2}});return()=>p.remove()},[f,y]),f?u.jsxs(u.Fragment,{children:[u.jsxs(fe,{children:[u.jsx("title",{children:f.helmetData.title}),u.jsx("meta",{name:"description",content:f.helmetData.description})]}),u.jsxs("section",{className:"my-6",children:[u.jsx(ge,{text:o?f.title.it:f.title.eng,colorBg:"bg-bordeaux"}),u.jsxs("div",{className:"my-3",children:[i||s?u.jsxs(u.Fragment,{children:[y==="layoutGrid"?u.jsx("div",{ref:v,children:f.photos.map(p=>u.jsx("div",{onClick:()=>{y!=="layoutSlider"&&d("layoutSlider"),A(p.id)},className:"cursor-pointer",children:u.jsx(B,{src:p.src,alt:p.alt,isMask:!1,isMobileRounded:!0,isDesktopRounded:!0,isMobileOverlay:!1,isDesktopOverlay:!1,isDesktopMask:!1,isShadowed:!0,customStyleBox:"w-full p-3",customStyleImg:""})},p.id))}):u.jsx(de,{activePicture:x,photos:f.photos,showThumbs:!0,isMobile:!0,isNavigation:!0,isSingleSlide:!0,isMaskTop:!1,isMaskHorizontal:!0,isOrginalSize:!0,customStyleBox:"h-[calc(100vh-22rem)]",customSpeed:500}),u.jsx("div",{className:"fixed top-18 right-0 z-20 flex gap-3 mx-2",children:y==="layoutGrid"?u.jsx("div",{className:"bg-off-white rounded-full p-2 text-4xl text-brand-pink cursor-pointer",onClick:()=>y!=="layoutSlider"&&d("layoutSlider"),children:u.jsx(Ie,{})}):u.jsx("div",{className:"bg-off-white  rounded-full p-2 text-4xl text-brand-pink cursor-pointer",onClick:()=>y!=="layoutGrid"&&d("layoutGrid"),children:u.jsx(Ce,{})})})]}):u.jsx("div",{ref:v,children:f.photos.map(p=>u.jsx("div",{onClick:()=>{A(p.id),I(!0)},className:"cursor-pointer",children:u.jsx(B,{src:p.src,alt:p.alt,isMask:!1,isMobileRounded:!0,isDesktopRounded:!0,customStyleBox:"w-full p-3",isMobileOverlay:!1,isDesktopOverlay:!1,isDesktopMask:!1,isShadowed:!0})},p.id))}),M&&u.jsx(u.Fragment,{children:u.jsx("div",{className:"relative w-screen h-screen",children:u.jsxs("div",{className:"fixed top-16 w-screen h-screen bg-black/85 ",children:[u.jsx("div",{className:"absolute right-0 mr-6 mt-6",children:u.jsxs("svg",{className:"size-8 cursor-pointer text-off-white",fill:"",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",onClick:()=>I(!1),children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),u.jsx("div",{className:"h-[calc(100vh-4rem)] w-[80%] m-auto flex justify-center items-center",children:u.jsx("img",{src:f.photos[x-1].src,alt:f.photos[x-1].alt,className:"h-5/6 rounded-xl object-cover"})})]})})})]})]})]}):u.jsx("div",{className:"mx-5 flex justify-center items-center h-[calc(100vh-8rem)]",children:o?"Non ci sono ancora foto in questo album":"There are still no pictures in this album"})}export{Pe as default};
